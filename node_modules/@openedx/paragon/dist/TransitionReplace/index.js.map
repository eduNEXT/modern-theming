{"version":3,"file":"index.js","names":["React","PropTypes","CSSTransition","TransitionGroup","classNames","TransitionReplace","Component","constructor","props","state","height","onChildEnter","bind","onChildEntering","onChildEntered","onChildExit","onChildExiting","onChildExited","htmlNode","setState","offsetHeight","renderChildTransition","child","key","process","env","NODE_ENV","console","warn","commonChildStyles","padding","transitionStyles","entering","entered","exiting","position","top","left","right","pointerEvents","exited","createElement","timeout","enter","enterDuration","exit","exitDuration","unmountOnExit","mountOnEnter","onEnter","onEntering","onEntered","onExit","onExiting","onExited","transitionClassNames","style","render","className","Children","map","children","propTypes","element","number","string","func","shape","defaultProps","undefined"],"sources":["../../src/TransitionReplace/index.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport classNames from 'classnames';\n\nclass TransitionReplace extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { height: null };\n\n    this.onChildEnter = this.onChildEnter.bind(this);\n    this.onChildEntering = this.onChildEntering.bind(this);\n    this.onChildEntered = this.onChildEntered.bind(this);\n    this.onChildExit = this.onChildExit.bind(this);\n    this.onChildExiting = this.onChildExiting.bind(this);\n    this.onChildExited = this.onChildExited.bind(this);\n  }\n\n  // Transition events are fired in this order:\n  //\n  // onEnter > onEntering > onEntered\n  // onExit  > onExiting  > onExited\n  //\n  // Keep in mind that we always have two transitions happening\n  // both the entering and leaving children\n  //\n  // We set the container height (for animation) in this order:\n  //\n  // 1. onChildExit         (explicitly set the height to match the current current)\n  // 2. onChildEntering     (set the height to match the new content)\n  // 3. onChildExited       (reset the height to null)\n\n  onChildEnter(htmlNode) {\n    if (this.props.onChildEnter) { this.props.onChildEnter(htmlNode); }\n  }\n\n  onChildEntering(htmlNode) {\n    this.setState({ height: htmlNode.offsetHeight });\n    if (this.props.onChildEntering) { this.props.onChildEntering(htmlNode); }\n  }\n\n  onChildEntered(htmlNode) {\n    this.setState({ height: null });\n    if (this.props.onChildEntered) { this.props.onChildEntered(htmlNode); }\n  }\n\n  onChildExit(htmlNode) {\n    this.setState({ height: htmlNode.offsetHeight });\n    if (this.props.onChildExit) { this.props.onChildExit(htmlNode); }\n  }\n\n  onChildExiting(htmlNode) {\n    if (this.props.onChildExiting) { this.props.onChildExiting(htmlNode); }\n  }\n\n  onChildExited(htmlNode) {\n    this.setState({ height: null });\n    if (this.props.onChildExited) { this.props.onChildExited(htmlNode); }\n  }\n\n  renderChildTransition(child) {\n    if (!child.key && process.env.NODE_ENV === 'development') {\n      // eslint-disable-next-line no-console\n      console.warn(\"TransitionReplace: A child is missing a 'key' prop. Keys are required for any child of this component.\");\n    }\n    // Makes the exiting and entering children occupy the same space\n    // SCSS handles the crossfade so it can be easily overridden\n    const commonChildStyles = {\n      // Prevent margin-collapsing which throws off height calculations\n      padding: '.1px 0',\n    };\n\n    const transitionStyles = {\n      entering: {},\n      entered: {},\n      exiting: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        pointerEvents: 'none',\n      },\n      exited: {},\n    };\n\n    return (\n      <CSSTransition\n        timeout={{\n          enter: this.props.enterDuration,\n          exit: this.props.exitDuration,\n        }}\n        unmountOnExit\n        mountOnEnter\n        onEnter={this.onChildEnter}\n        onEntering={this.onChildEntering}\n        onEntered={this.onChildEntered}\n        onExit={this.onChildExit}\n        onExiting={this.onChildExiting}\n        onExited={this.onChildExited}\n        classNames={this.props.transitionClassNames}\n      >\n        {state => (\n          <div\n            style={{\n              ...commonChildStyles,\n              ...transitionStyles[state],\n              ...this.props.transitionStyles[state],\n            }}\n          >\n            {child}\n          </div>\n        )}\n      </CSSTransition>\n    );\n  }\n\n  render() {\n    return (\n      <TransitionGroup\n        className={classNames(\n          'pgn-transition-replace-group',\n          'position-relative',\n          { 'overflow-hidden': this.state.height !== null },\n          this.props.className,\n        )}\n        style={{ height: this.state.height }}\n      >\n        {React.Children.map(this.props.children, this.renderChildTransition, this)}\n      </TransitionGroup>\n    );\n  }\n}\n\nTransitionReplace.propTypes = {\n  /** Specifies an additional class for the base element */\n  children: PropTypes.element,\n  /** Duration of the element appearance transition. */\n  enterDuration: PropTypes.number,\n  /** Duration of the element dismiss transition. */\n  exitDuration: PropTypes.number,\n  /** Specifies class name to append to the base element. */\n  className: PropTypes.string,\n  /** A `Transition` callback fired immediately after the `enter` or `appear` class is applied. */\n  onChildEnter: PropTypes.func,\n  /** A `Transition` callback fired immediately after the `enter-active` or `appear-active` class is applied. */\n  onChildEntering: PropTypes.func,\n  /**\n   * A `Transition` callback fired immediately after the `enter` or\n   * `appear` classes are removed and the done class is added to the DOM node.\n   */\n  onChildEntered: PropTypes.func,\n  /** A `Transition` callback fired immediately after the `exit` class is applied. */\n  onChildExit: PropTypes.func,\n  /** A `Transition` callback fired immediately after the `exit-active` is applied. */\n  onChildExiting: PropTypes.func,\n  /**\n   * A `Transition` callback fired immediately after the `exit` classes\n   * are removed and the exit-done class is added to the DOM node.\n   */\n  onChildExited: PropTypes.func,\n  /** An object that specifies transition styles. */\n  transitionStyles: PropTypes.shape({\n    entering: PropTypes.shape({}),\n    entered: PropTypes.shape({}),\n    exiting: PropTypes.shape({}),\n    exited: PropTypes.shape({}),\n  }),\n  /** Specifies class name to append to the `Transition`. */\n  transitionClassNames: PropTypes.string,\n};\n\nTransitionReplace.defaultProps = {\n  children: undefined,\n  enterDuration: 300,\n  exitDuration: 300,\n  className: undefined,\n  onChildEnter: undefined,\n  onChildEntering: undefined,\n  onChildEntered: undefined,\n  onChildExit: undefined,\n  onChildExiting: undefined,\n  onChildExited: undefined,\n  transitionStyles: {},\n  transitionClassNames: 'pgn__transition-replace',\n};\n\nexport default TransitionReplace;\n"],"mappings":"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","ignoreList":[]}