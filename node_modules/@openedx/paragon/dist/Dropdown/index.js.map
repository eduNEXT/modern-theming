{"version":3,"file":"index.js","names":["React","classNames","PropTypes","BaseDropdown","DropdownMenu","BaseDropdownItem","BaseDropdownToggle","Button","IconButton","Dropdown","forwardRef","_ref","ref","show","autoClose","onToggle","variant","className","rest","internalShow","setInternalShow","useState","isClosingPermitted","source","handleToggle","isOpen","event","metadata","currentTarget","document","key","createElement","propTypes","oneOfType","string","bool","func","oneOf","defaultProps","undefined","DropdownToggle","_ref2","as","bsPrefix","otherProps","prefix","elementType","id","number","isRequired","Item","DropdownItem","_ref3","Toggle","Menu","Header","Divider","default","DropdownButton","SplitButton"],"sources":["../../src/Dropdown/index.jsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport BaseDropdown from 'react-bootstrap/Dropdown';\nimport DropdownMenu from 'react-bootstrap/DropdownMenu';\nimport BaseDropdownItem from 'react-bootstrap/DropdownItem';\nimport BaseDropdownToggle from 'react-bootstrap/DropdownToggle';\nimport Button from '../Button';\nimport IconButton from '../IconButton';\n\nconst Dropdown = React.forwardRef(\n  // eslint-disable-next-line prefer-arrow-callback\n  function Dropdown({\n    show,\n    autoClose,\n    onToggle,\n    variant,\n    className,\n    ...rest\n  }, ref) {\n    const [internalShow, setInternalShow] = React.useState(show);\n    const isClosingPermitted = (source) => {\n      // autoClose=false only permits close on button click\n      if (autoClose === false) {\n        return source === 'click';\n      }\n      // autoClose=inside doesn't permit close on rootClose\n      if (autoClose === 'inside') {\n        return source !== 'rootClose';\n      }\n      // autoClose=outside doesn't permit close on select\n      if (autoClose === 'outside') {\n        return source !== 'select';\n      }\n      return true;\n    };\n\n    const handleToggle = (isOpen, event, metadata) => {\n      if (isOpen) {\n        setInternalShow(true);\n        onToggle?.(isOpen, event, metadata);\n        return;\n      }\n      let { source } = { ...metadata };\n\n      if (event.currentTarget === document && (source !== 'keydown' || event.key === 'Escape')) {\n        source = 'rootClose';\n      }\n      if (isClosingPermitted(source)) {\n        setInternalShow(false);\n        onToggle?.(isOpen, event, metadata);\n      }\n    };\n\n    return (\n      <BaseDropdown\n        className={classNames(\n          'pgn__dropdown',\n          `pgn__dropdown-${variant}`,\n          className,\n        )}\n        data-testid=\"dropdown\"\n        onToggle={handleToggle}\n        ref={ref}\n        show={internalShow}\n        {...rest}\n      />\n    );\n  },\n);\n\nDropdown.propTypes = {\n  autoClose: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n  ]),\n  className: PropTypes.string,\n  onToggle: PropTypes.func,\n  show: PropTypes.bool,\n  variant: PropTypes.oneOf(['light', 'dark']),\n};\n\nDropdown.defaultProps = {\n  autoClose: true,\n  className: '',\n  onToggle: undefined,\n  show: false,\n  variant: 'light',\n};\n\nconst DropdownToggle = React.forwardRef(\n  // eslint-disable-next-line prefer-arrow-callback\n  function DropdownToggle({\n    as,\n    bsPrefix,\n    ...otherProps\n  }, ref) {\n    // hide arrow from the toggle if it is rendered as IconButton\n    // because it hinders the positioning of IconButton\n    const prefix = as === IconButton ? 'pgn__dropdown-toggle-iconbutton' : bsPrefix;\n    return <BaseDropdownToggle {...otherProps} as={as} bsPrefix={prefix} ref={ref} />;\n  },\n);\n\nDropdownToggle.propTypes = {\n  /** Specifies the base element. */\n  as: PropTypes.elementType,\n  /** Overrides underlying component base CSS class name. */\n  bsPrefix: PropTypes.string,\n  /** An html id attribute, necessary for assistive technologies, such as screen readers. */\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n};\n\nDropdownToggle.defaultProps = {\n  as: Button,\n  bsPrefix: 'dropdown-toggle',\n};\n\nDropdown.Item = React.forwardRef(\n  // eslint-disable-next-line prefer-arrow-callback\n  function DropdownItem({ className, ...otherProps }, ref) {\n    return (\n      <BaseDropdownItem\n        className={classNames(className, 'pgn__dropdown-item')}\n        ref={ref}\n        {...otherProps}\n      />\n    );\n  },\n);\n\nDropdown.Item.propTypes = {\n  className: PropTypes.string,\n};\n\nDropdown.Item.defaultProps = {\n  className: undefined,\n};\n\nDropdown.Toggle = DropdownToggle;\nDropdown.Menu = DropdownMenu;\nDropdown.Header = BaseDropdown.Header;\nDropdown.Divider = BaseDropdown.Divider;\n\nexport default Dropdown;\nexport { DropdownToggle };\nexport { default as DropdownButton } from 'react-bootstrap/DropdownButton';\nexport { default as SplitButton } from 'react-bootstrap/SplitButton';\n"],"mappings":"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","ignoreList":[]}