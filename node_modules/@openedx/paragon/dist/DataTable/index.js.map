{"version":3,"file":"index.js","names":["React","useEffect","useMemo","useReducer","PropTypes","useTable","useMountedLayoutEffect","classNames","Table","getVisibleColumns","requiredWhen","requiredWhenNot","getTableArgs","TableControlBar","EmptyTableContent","TableFooter","BulkActions","DropdownFilters","FilterStatus","RowStatus","SelectionStatus","ControlledSelectionStatus","SmartStatus","TableFilters","TableHeaderCell","TableCell","TableHeaderRow","TablePagination","TablePaginationMinimal","DataTableContext","TableActions","ControlledSelect","ControlledSelectHeader","DataTableLayout","ExpandAll","ExpandRow","useSelectionActions","selectionsReducer","initialState","initialSelectionsState","DataTable","_ref","columns","data","defaultColumnValues","additionalColumns","isSelectable","isPaginated","manualPagination","pageCount","itemCount","isFilterable","manualFilters","fetchData","isSortable","manualSortBy","isExpandable","renderRowSubComponent","bulkActions","tableActions","numBreakoutFilters","initialTableOptions","EmptyTableComponent","manualSelectColumn","showFiltersInSidebar","dataViewToggleOptions","disableElevation","isLoading","children","onSelectedRowsChanged","maxSelectedRows","onMaxSelectedRows","props","defaultColumn","tableOptions","updatedTableOptions","stateReducer","newState","action","previousState","type","value","selectedRowIds","rowIndex","parseInt","id","selectedRowsOrdered","newSelectedRowsOrdered","filter","item","selections","selectionsDispatch","tableArgs","push","hooks","visibleColumns","selectionProps","selectedRows","length","selectedRowsById","forEach","row","useControlledState","state","selectedFlatRows","controlledTableSelections","instance","pageSize","tableStatePageSize","pageIndex","tableStatePageIndex","sortBy","tableStateSortBy","filters","tableStateFilters","tableStateSelectedRowIds","selectionActions","enhancedInstance","createElement","Provider","className","Fragment","content","defaultProps","undefined","SelectionStatusComponent","FilterStatusComponent","RowStatusComponent","isDataViewToggleEnabled","onDataViewToggle","defaultActiveStateValue","togglePlacement","propTypes","arrayOf","shape","Header","oneOfType","elementType","node","isRequired","accessor","string","Cell","Filter","filterChoices","name","number","bool","disableSortBy","func","buttonText","handleClick","variant","disabled","element","oneOf","EmptyTable"],"sources":["../../src/DataTable/index.jsx"],"sourcesContent":["import React, {\n  useEffect, useMemo, useReducer,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { useTable, useMountedLayoutEffect } from 'react-table';\n\nimport classNames from 'classnames';\nimport Table from './Table';\nimport getVisibleColumns from './utils/getVisibleColumns';\nimport { requiredWhen, requiredWhenNot } from '../utils/propTypes';\nimport getTableArgs from './utils/getTableArgs';\nimport TableControlBar from './TableControlBar';\nimport EmptyTableContent from './EmptyTable';\nimport TableFooter from './TableFooter';\nimport BulkActions from './BulkActions';\nimport DropdownFilters from './DropdownFilters';\nimport FilterStatus from './FilterStatus';\nimport RowStatus from './RowStatus';\nimport SelectionStatus from './selection/SelectionStatus';\nimport ControlledSelectionStatus from './selection/ControlledSelectionStatus';\nimport SmartStatus from './SmartStatus';\nimport TableFilters from './TableFilters';\nimport TableHeaderCell from './TableHeaderCell';\nimport TableCell from './TableCell';\nimport TableHeaderRow from './TableHeaderRow';\nimport TablePagination from './TablePagination';\nimport TablePaginationMinimal from './TablePaginationMinimal';\nimport DataTableContext from './DataTableContext';\nimport TableActions from './TableActions';\nimport ControlledSelect from './selection/ControlledSelect';\nimport ControlledSelectHeader from './selection/ControlledSelectHeader';\nimport DataTableLayout from './DataTableLayout';\nimport ExpandAll from './ExpandAll';\nimport ExpandRow from './ExpandRow';\n\nimport { useSelectionActions } from './hooks';\nimport selectionsReducer, { initialState as initialSelectionsState } from './selection/data/reducer';\n\nfunction DataTable({\n  columns, data, defaultColumnValues, additionalColumns, isSelectable,\n  isPaginated, manualPagination, pageCount, itemCount,\n  isFilterable, manualFilters, fetchData, initialState,\n  isSortable, manualSortBy,\n  isExpandable, renderRowSubComponent,\n  bulkActions, tableActions, numBreakoutFilters,\n  initialTableOptions,\n  EmptyTableComponent,\n  manualSelectColumn,\n  showFiltersInSidebar,\n  dataViewToggleOptions,\n  disableElevation,\n  isLoading,\n  children,\n  onSelectedRowsChanged,\n  maxSelectedRows,\n  onMaxSelectedRows,\n  ...props\n}) {\n  const defaultColumn = useMemo(\n    () => (defaultColumnValues),\n    [defaultColumnValues],\n  );\n  const tableOptions = useMemo(() => {\n    const updatedTableOptions = {\n      stateReducer: (newState, action, previousState) => {\n        switch (action.type) {\n          // Note: we override the `toggleAllRowsSelected` action\n          // from react-table because it only clears the selections on the\n          // currently visible page; it does not clear the `selectedRowIds`\n          // as we would expect for selections on different pages. Instead, we\n          // force `selectedRowIds` to be cleared when `toggleAllRowsSelected(false)`\n          // is called.\n          case 'toggleAllRowsSelected': {\n            if (action.value) {\n              return newState;\n            }\n            return {\n              ...newState,\n              selectedRowIds: {},\n            };\n          }\n          /*  Note: We override the `toggleRowSelected` action from react-table\n              because we need to preserve the order of the selected rows.\n              While `selectedRowIds` is an object that contains the selected rows as key-value pairs,\n              it does not maintain the order of selection. Therefore, we have added the `selectedRowsOrdered` property\n              to keep track of the order in which the rows were selected.\n          */\n          case 'toggleRowSelected': {\n            const rowIndex = parseInt(action.id, 10);\n            const { selectedRowsOrdered = [] } = previousState;\n\n            let newSelectedRowsOrdered;\n            if (action.value) {\n              newSelectedRowsOrdered = [...selectedRowsOrdered, rowIndex];\n            } else {\n              newSelectedRowsOrdered = selectedRowsOrdered.filter((item) => item !== rowIndex);\n            }\n\n            return {\n              ...newState,\n              selectedRowsOrdered: newSelectedRowsOrdered,\n            };\n          }\n          default:\n            return newState;\n        }\n      },\n      ...initialTableOptions,\n    };\n    return {\n      columns,\n      data,\n      defaultColumn,\n      manualFilters,\n      manualPagination,\n      manualSortBy,\n      initialState,\n      ...updatedTableOptions,\n    };\n  }, [initialTableOptions, columns, data, defaultColumn, manualFilters, manualPagination, manualSortBy, initialState]);\n\n  const [selections, selectionsDispatch] = useReducer(selectionsReducer, initialSelectionsState);\n\n  if (isPaginated && manualPagination) {\n    // pageCount is required when pagination is manual, if it's not there passing -1 as per react-table docs\n    tableOptions.pageCount = pageCount || -1;\n  }\n\n  // NB: Table args *must* be in a particular order\n  const tableArgs = getTableArgs({\n    tableOptions, isFilterable, isSelectable, isPaginated, isSortable, isExpandable,\n  });\n  // adds selection column and action columns as necessary\n  tableArgs.push(hooks => {\n    hooks.visibleColumns.push(\n      visibleColumns => getVisibleColumns(isSelectable, visibleColumns, additionalColumns, manualSelectColumn),\n    );\n  });\n\n  // Pass any controlled selections from context to the appropriate ``useTable`` arguments to maintain\n  // correct selection states on rows, both from a data perspective and in the UI.\n  const selectionProps = {};\n  const { selectedRows } = selections;\n  if (selectedRows.length > 0) {\n    const selectedRowsById = {};\n    selectedRows.forEach((row) => {\n      selectedRowsById[row.id] = true;\n    });\n    tableArgs.push(hooks => {\n      hooks.useControlledState.push(\n        (state) => ({ ...state, selectedRowIds: selectedRowsById }),\n      );\n    });\n    selectionProps.selectedFlatRows = selectedRows;\n  }\n  const controlledTableSelections = [selections, selectionsDispatch];\n\n  // Use the state and functions returned from useTable to build your UI\n  const instance = useTable(...tableArgs);\n\n  const {\n    pageSize: tableStatePageSize,\n    pageIndex: tableStatePageIndex,\n    sortBy: tableStateSortBy,\n    filters: tableStateFilters,\n    selectedRowIds: tableStateSelectedRowIds,\n  } = instance.state;\n\n  useEffect(() => {\n    if (fetchData) {\n      fetchData({\n        pageSize: tableStatePageSize,\n        pageIndex: tableStatePageIndex,\n        sortBy: tableStateSortBy,\n        filters: tableStateFilters,\n      });\n    }\n  }, [fetchData, tableStatePageSize, tableStatePageIndex, tableStateSortBy, tableStateFilters]);\n\n  useMountedLayoutEffect(() => {\n    if (onSelectedRowsChanged) {\n      onSelectedRowsChanged(tableStateSelectedRowIds);\n    }\n  }, [tableStateSelectedRowIds, onSelectedRowsChanged]);\n\n  const selectionActions = useSelectionActions(instance, controlledTableSelections);\n\n  const enhancedInstance = {\n    ...instance,\n    manualFilters,\n    itemCount,\n    numBreakoutFilters,\n    bulkActions,\n    tableActions,\n    controlledTableSelections,\n    showFiltersInSidebar,\n    dataViewToggleOptions,\n    renderRowSubComponent,\n    disableElevation,\n    isLoading,\n    isSelectable,\n    isPaginated,\n    manualSelectColumn,\n    maxSelectedRows,\n    onMaxSelectedRows,\n    ...selectionProps,\n    ...selectionActions,\n    ...props,\n  };\n\n  return (\n    <DataTableContext.Provider value={enhancedInstance}>\n      <DataTableLayout>\n        <div className={classNames('pgn__data-table-wrapper', {\n          'hide-shadow': !!disableElevation,\n        })}\n        >\n          {children || (\n          <>\n            <TableControlBar />\n            <Table />\n            <EmptyTableComponent content=\"No results found\" />\n            <TableFooter />\n          </>\n          )}\n        </div>\n      </DataTableLayout>\n    </DataTableContext.Provider>\n  );\n}\n\nDataTable.defaultProps = {\n  additionalColumns: [],\n  defaultColumnValues: {},\n  isFilterable: false,\n  isPaginated: false,\n  isSelectable: false,\n  isSortable: false,\n  manualFilters: false,\n  manualPagination: false,\n  manualSortBy: false,\n  fetchData: null,\n  initialState: {},\n  initialTableOptions: {},\n  EmptyTableComponent: EmptyTableContent,\n  children: null,\n  bulkActions: [],\n  tableActions: [],\n  numBreakoutFilters: 1,\n  manualSelectColumn: undefined,\n  SelectionStatusComponent: SelectionStatus,\n  FilterStatusComponent: FilterStatus,\n  RowStatusComponent: RowStatus,\n  showFiltersInSidebar: false,\n  dataViewToggleOptions: {\n    isDataViewToggleEnabled: false,\n    onDataViewToggle: () => {},\n    defaultActiveStateValue: 'card',\n    togglePlacement: 'left',\n  },\n  disableElevation: false,\n  renderRowSubComponent: undefined,\n  isExpandable: false,\n  isLoading: false,\n  onSelectedRowsChanged: undefined,\n  maxSelectedRows: undefined,\n  onMaxSelectedRows: undefined,\n};\n\nDataTable.propTypes = {\n  /** Definition of table columns */\n  columns: PropTypes.arrayOf(PropTypes.shape({\n    /** User visible column name */\n    Header: PropTypes.oneOfType([PropTypes.elementType, PropTypes.node]).isRequired,\n    /** String used to access the correct cell data for this column */\n    accessor: requiredWhenNot(PropTypes.string, 'Cell'),\n    /** Specifies a function that receives `row` as argument and returns cell content */\n    Cell: PropTypes.oneOfType([PropTypes.elementType, PropTypes.node]),\n    /** Specifies filter component */\n    Filter: PropTypes.elementType,\n    /** Specifies filter type */\n    filter: PropTypes.string,\n    /** Specifies filter choices */\n    filterChoices: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string,\n      number: PropTypes.number,\n      value: PropTypes.string,\n    })),\n  })).isRequired,\n  /** Data to be displayed in the table */\n  data: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  /** table rows can be selected */\n  isSelectable: PropTypes.bool,\n  /** Alternate column for selecting rows. See react table useSort docs for more information */\n  manualSelectColumn: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    Header: PropTypes.oneOfType([PropTypes.elementType, PropTypes.node]).isRequired,\n    Cell: PropTypes.oneOfType([PropTypes.elementType, PropTypes.node]),\n    disableSortBy: PropTypes.bool.isRequired,\n  }),\n  /** Table columns can be sorted */\n  isSortable: PropTypes.bool,\n  /** Indicates that sorting will be done via backend API. A fetchData function must be provided */\n  manualSortBy: PropTypes.bool,\n  /** Paginate the table */\n  isPaginated: PropTypes.bool,\n  /** Indicates that pagination will be done manually. A fetchData function must be provided */\n  manualPagination: PropTypes.bool,\n  // eslint-disable-next-line react/require-default-props\n  pageCount: requiredWhen(PropTypes.number, 'manualPagination'),\n  /** Table rows can be filtered, using a default filter in the default column values, or in the column definition */\n  isFilterable: PropTypes.bool,\n  /** Indicates that filtering will be done via a backend API. A fetchData function must be provided */\n  manualFilters: PropTypes.bool,\n\n  /** defaults that will be set on each column. Will be overridden by individual column values */\n  defaultColumnValues: PropTypes.shape({\n    /** A default filter component for the column */\n    Filter: PropTypes.elementType,\n  }),\n  /** Actions or other additional non-data columns can be added here  */\n  additionalColumns: PropTypes.arrayOf(PropTypes.shape({\n    /** id must be unique from other columns ids */\n    id: PropTypes.string.isRequired,\n    /** column header that will be displayed to the user */\n    Header: PropTypes.oneOfType([PropTypes.elementType, PropTypes.node]),\n    /** Component that renders in the added column. It will receive the row as a prop */\n    Cell: PropTypes.oneOfType([PropTypes.elementType, PropTypes.node]),\n  })),\n  /** Function that will fetch table data. Called when page size, page index or filters change.\n    * Meant to be used with manual filters and pagination */\n  fetchData: PropTypes.func,\n  /** Initial state passed to react-table's documentation https://github.com/TanStack/table/blob/v7/docs/src/pages/docs/api/useTable.md */\n  initialState: PropTypes.shape({\n    pageSize: requiredWhen(PropTypes.number, 'isPaginated'),\n    pageIndex: requiredWhen(PropTypes.number, 'isPaginated'),\n    filters: requiredWhen(PropTypes.arrayOf(PropTypes.shape()), 'manualFilters'),\n    sortBy: requiredWhen(PropTypes.arrayOf(PropTypes.shape()), 'manualSortBy'),\n    selectedRowIds: PropTypes.shape(),\n    selectedRowsOrdered: PropTypes.arrayOf(PropTypes.number),\n  }),\n  /** Table options passed to react-table's useTable hook. Will override some options passed in to DataTable, such\n     as: data, columns, defaultColumn, manualFilters, manualPagination, manualSortBy, and initialState */\n  initialTableOptions: PropTypes.shape({}),\n  /** Actions to be performed on the table. Called with the table instance. Not displayed if rows are selected. */\n  itemCount: PropTypes.number.isRequired,\n  /** Actions to be performed on selected rows of the table. Called with the selected rows.\n   *  Only displayed if rows are selected. */\n  bulkActions: PropTypes.oneOfType([\n    PropTypes.arrayOf(\n      PropTypes.oneOfType([\n        PropTypes.shape({\n          /** Bulk action button text */\n          buttonText: PropTypes.string.isRequired,\n          /** handleClick will be passed the selected rows */\n          handleClick: PropTypes.func.isRequired,\n          /** classnames for button class */\n          className: PropTypes.string,\n          /** optional button variant; only relevant for the first two buttons */\n          variant: PropTypes.string,\n          /** disables button */\n          disabled: PropTypes.bool,\n        }),\n        /** function passed selected items, should return action object */\n        PropTypes.func,\n        /** A custom component representing an action */\n        PropTypes.element,\n      ]),\n    ),\n    /** Function for rendering custom components */\n    PropTypes.func,\n    /** A custom component representing an action */\n    PropTypes.element,\n  ]),\n  /** Function for rendering custom components, called with the table instance */\n  tableActions: PropTypes.oneOfType([\n    PropTypes.arrayOf(\n      PropTypes.oneOfType([\n        PropTypes.shape({\n          /** Bulk action button text */\n          buttonText: PropTypes.string.isRequired,\n          /** handleClick will be passed the selected rows */\n          handleClick: PropTypes.func.isRequired,\n          /** classnames for button class */\n          className: PropTypes.string,\n          /** optional button variant; only relevant for the first two buttons */\n          variant: PropTypes.string,\n          /** disables button */\n          disabled: PropTypes.bool,\n        }),\n        /** function passed table instance, should return action object */\n        PropTypes.func,\n        /** A custom component representing an action */\n        PropTypes.element,\n      ]),\n    ),\n    /** Function for rendering custom components */\n    PropTypes.func,\n    /** A custom component representing an action */\n    PropTypes.element,\n  ]),\n  /** Number between one and four filters that can be shown on the top row. */\n  numBreakoutFilters: PropTypes.oneOf([1, 2, 3, 4]),\n  /** Component to be displayed when the table is empty */\n  EmptyTableComponent: PropTypes.elementType,\n  /** Component to be displayed for row status, ie, 10 of 20 rows. Displayed by default in the TableControlBar */\n  RowStatusComponent: PropTypes.elementType,\n  /** Component to be displayed for selection status. Displayed when there are selected rows and no active filters */\n  SelectionStatusComponent: PropTypes.elementType,\n  /** Component to be displayed for filter status. Displayed when there are active filters. */\n  FilterStatusComponent: PropTypes.elementType,\n  /** If children are not provided a table with control bar and footer will be rendered */\n  children: PropTypes.node,\n  /** If true filters will be shown on sidebar instead */\n  showFiltersInSidebar: PropTypes.bool,\n  /** options for data view toggle */\n  dataViewToggleOptions: PropTypes.shape({\n    /** Whether to show a toggle button group which allows view switching between card and table views */\n    isDataViewToggleEnabled: PropTypes.bool,\n    /** Callback invoked when the toggle buttons are clicked, with value of selected button passed in */\n    onDataViewToggle: PropTypes.func,\n    /** default value for toggle active state */\n    defaultActiveStateValue: PropTypes.string,\n    /** placement of toggle 'bottom' will push it to the bottom row in\n     * actions section. Only 'left' and 'bottom' are supported */\n    togglePlacement: PropTypes.string,\n  }),\n  /** Remove the default box shadow on the component */\n  disableElevation: PropTypes.bool,\n  /** A function that will render contents of expanded row, accepts `row` as a prop. */\n  renderRowSubComponent: PropTypes.func,\n  /** Indicates whether table supports expandable rows. */\n  isExpandable: PropTypes.bool,\n  /** Indicates whether the table should show loading states. */\n  isLoading: PropTypes.bool,\n  /** Callback function called when row selections change. */\n  onSelectedRowsChanged: PropTypes.func,\n  /** Indicates the max of rows selectable in the table. Requires isSelectable prop */\n  maxSelectedRows: PropTypes.number,\n  /** Callback after selected max rows. Requires isSelectable and maxSelectedRows props */\n  onMaxSelectedRows: PropTypes.func,\n};\n\nDataTable.BulkActions = BulkActions;\nDataTable.EmptyTable = EmptyTableContent;\nDataTable.DropdownFilters = DropdownFilters;\nDataTable.FilterStatus = FilterStatus;\nDataTable.RowStatus = RowStatus;\nDataTable.SelectionStatus = SelectionStatus;\nDataTable.SmartStatus = SmartStatus;\nDataTable.Table = Table;\nDataTable.TableCell = TableCell;\nDataTable.TableControlBar = TableControlBar;\nDataTable.TableFilters = TableFilters;\nDataTable.TableFooter = TableFooter;\nDataTable.TableHeaderCell = TableHeaderCell;\nDataTable.TableHeaderRow = TableHeaderRow;\nDataTable.TablePagination = TablePagination;\nDataTable.TablePaginationMinimal = TablePaginationMinimal;\nDataTable.TableActions = TableActions;\nDataTable.ControlledSelectionStatus = ControlledSelectionStatus;\nDataTable.ControlledSelect = ControlledSelect;\nDataTable.ControlledSelectHeader = ControlledSelectHeader;\nDataTable.ExpandAll = ExpandAll;\nDataTable.ExpandRow = ExpandRow;\n\nexport default DataTable;\n"],"mappings":"AAAA,OAAOA,KAAK,IACVC,SAAS,EAAEC,OAAO,EAAEC,UAAU,QACzB,OAAO;AACd,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,QAAQ,EAAEC,sBAAsB,QAAQ,aAAa;AAE9D,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,iBAAiB,MAAM,2BAA2B;AACzD,SAASC,YAAY,EAAEC,eAAe,QAAQ,oBAAoB;AAClE,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,OAAOC,iBAAiB,MAAM,cAAc;AAC5C,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,eAAe,MAAM,6BAA6B;AACzD,OAAOC,yBAAyB,MAAM,uCAAuC;AAC7E,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,OAAOC,sBAAsB,MAAM,0BAA0B;AAC7D,OAAOC,gBAAgB,MAAM,oBAAoB;AACjD,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,gBAAgB,MAAM,8BAA8B;AAC3D,OAAOC,sBAAsB,MAAM,oCAAoC;AACvE,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,SAAS,MAAM,aAAa;AAEnC,SAASC,mBAAmB,QAAQ,SAAS;AAC7C,OAAOC,iBAAiB,IAAIC,YAAY,IAAIC,sBAAsB,QAAQ,0BAA0B;AAEpG,SAASC,SAASA,CAAAC,IAAA,EAmBf;EAAA,IAnBgB;IACjBC,OAAO;IAAEC,IAAI;IAAEC,mBAAmB;IAAEC,iBAAiB;IAAEC,YAAY;IACnEC,WAAW;IAAEC,gBAAgB;IAAEC,SAAS;IAAEC,SAAS;IACnDC,YAAY;IAAEC,aAAa;IAAEC,SAAS;IAAEf,YAAY;IACpDgB,UAAU;IAAEC,YAAY;IACxBC,YAAY;IAAEC,qBAAqB;IACnCC,WAAW;IAAEC,YAAY;IAAEC,kBAAkB;IAC7CC,mBAAmB;IACnBC,mBAAmB;IACnBC,kBAAkB;IAClBC,oBAAoB;IACpBC,qBAAqB;IACrBC,gBAAgB;IAChBC,SAAS;IACTC,QAAQ;IACRC,qBAAqB;IACrBC,eAAe;IACfC,iBAAiB;IACjB,GAAGC;EACL,CAAC,GAAA/B,IAAA;EACC,MAAMgC,aAAa,GAAGvE,OAAO,CAC3B,MAAO0C,mBAAoB,EAC3B,CAACA,mBAAmB,CACtB,CAAC;EACD,MAAM8B,YAAY,GAAGxE,OAAO,CAAC,MAAM;IACjC,MAAMyE,mBAAmB,GAAG;MAC1BC,YAAY,EAAEA,CAACC,QAAQ,EAAEC,MAAM,EAAEC,aAAa,KAAK;QACjD,QAAQD,MAAM,CAACE,IAAI;UACjB;UACA;UACA;UACA;UACA;UACA;UACA,KAAK,uBAAuB;YAAE;cAC5B,IAAIF,MAAM,CAACG,KAAK,EAAE;gBAChB,OAAOJ,QAAQ;cACjB;cACA,OAAO;gBACL,GAAGA,QAAQ;gBACXK,cAAc,EAAE,CAAC;cACnB,CAAC;YACH;UACA;AACV;AACA;AACA;AACA;AACA;UACU,KAAK,mBAAmB;YAAE;cACxB,MAAMC,QAAQ,GAAGC,QAAQ,CAACN,MAAM,CAACO,EAAE,EAAE,EAAE,CAAC;cACxC,MAAM;gBAAEC,mBAAmB,GAAG;cAAG,CAAC,GAAGP,aAAa;cAElD,IAAIQ,sBAAsB;cAC1B,IAAIT,MAAM,CAACG,KAAK,EAAE;gBAChBM,sBAAsB,GAAG,CAAC,GAAGD,mBAAmB,EAAEH,QAAQ,CAAC;cAC7D,CAAC,MAAM;gBACLI,sBAAsB,GAAGD,mBAAmB,CAACE,MAAM,CAAEC,IAAI,IAAKA,IAAI,KAAKN,QAAQ,CAAC;cAClF;cAEA,OAAO;gBACL,GAAGN,QAAQ;gBACXS,mBAAmB,EAAEC;cACvB,CAAC;YACH;UACA;YACE,OAAOV,QAAQ;QACnB;MACF,CAAC;MACD,GAAGhB;IACL,CAAC;IACD,OAAO;MACLnB,OAAO;MACPC,IAAI;MACJ8B,aAAa;MACbrB,aAAa;MACbJ,gBAAgB;MAChBO,YAAY;MACZjB,YAAY;MACZ,GAAGqC;IACL,CAAC;EACH,CAAC,EAAE,CAACd,mBAAmB,EAAEnB,OAAO,EAAEC,IAAI,EAAE8B,aAAa,EAAErB,aAAa,EAAEJ,gBAAgB,EAAEO,YAAY,EAAEjB,YAAY,CAAC,CAAC;EAEpH,MAAM,CAACoD,UAAU,EAAEC,kBAAkB,CAAC,GAAGxF,UAAU,CAACkC,iBAAiB,EAAEE,sBAAsB,CAAC;EAE9F,IAAIQ,WAAW,IAAIC,gBAAgB,EAAE;IACnC;IACA0B,YAAY,CAACzB,SAAS,GAAGA,SAAS,IAAI,CAAC,CAAC;EAC1C;;EAEA;EACA,MAAM2C,SAAS,GAAGhF,YAAY,CAAC;IAC7B8D,YAAY;IAAEvB,YAAY;IAAEL,YAAY;IAAEC,WAAW;IAAEO,UAAU;IAAEE;EACrE,CAAC,CAAC;EACF;EACAoC,SAAS,CAACC,IAAI,CAACC,KAAK,IAAI;IACtBA,KAAK,CAACC,cAAc,CAACF,IAAI,CACvBE,cAAc,IAAItF,iBAAiB,CAACqC,YAAY,EAAEiD,cAAc,EAAElD,iBAAiB,EAAEkB,kBAAkB,CACzG,CAAC;EACH,CAAC,CAAC;;EAEF;EACA;EACA,MAAMiC,cAAc,GAAG,CAAC,CAAC;EACzB,MAAM;IAAEC;EAAa,CAAC,GAAGP,UAAU;EACnC,IAAIO,YAAY,CAACC,MAAM,GAAG,CAAC,EAAE;IAC3B,MAAMC,gBAAgB,GAAG,CAAC,CAAC;IAC3BF,YAAY,CAACG,OAAO,CAAEC,GAAG,IAAK;MAC5BF,gBAAgB,CAACE,GAAG,CAAChB,EAAE,CAAC,GAAG,IAAI;IACjC,CAAC,CAAC;IACFO,SAAS,CAACC,IAAI,CAACC,KAAK,IAAI;MACtBA,KAAK,CAACQ,kBAAkB,CAACT,IAAI,CAC1BU,KAAK,KAAM;QAAE,GAAGA,KAAK;QAAErB,cAAc,EAAEiB;MAAiB,CAAC,CAC5D,CAAC;IACH,CAAC,CAAC;IACFH,cAAc,CAACQ,gBAAgB,GAAGP,YAAY;EAChD;EACA,MAAMQ,yBAAyB,GAAG,CAACf,UAAU,EAAEC,kBAAkB,CAAC;;EAElE;EACA,MAAMe,QAAQ,GAAGrG,QAAQ,CAAC,GAAGuF,SAAS,CAAC;EAEvC,MAAM;IACJe,QAAQ,EAAEC,kBAAkB;IAC5BC,SAAS,EAAEC,mBAAmB;IAC9BC,MAAM,EAAEC,gBAAgB;IACxBC,OAAO,EAAEC,iBAAiB;IAC1BhC,cAAc,EAAEiC;EAClB,CAAC,GAAGT,QAAQ,CAACH,KAAK;EAElBtG,SAAS,CAAC,MAAM;IACd,IAAIoD,SAAS,EAAE;MACbA,SAAS,CAAC;QACRsD,QAAQ,EAAEC,kBAAkB;QAC5BC,SAAS,EAAEC,mBAAmB;QAC9BC,MAAM,EAAEC,gBAAgB;QACxBC,OAAO,EAAEC;MACX,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAAC7D,SAAS,EAAEuD,kBAAkB,EAAEE,mBAAmB,EAAEE,gBAAgB,EAAEE,iBAAiB,CAAC,CAAC;EAE7F5G,sBAAsB,CAAC,MAAM;IAC3B,IAAI+D,qBAAqB,EAAE;MACzBA,qBAAqB,CAAC8C,wBAAwB,CAAC;IACjD;EACF,CAAC,EAAE,CAACA,wBAAwB,EAAE9C,qBAAqB,CAAC,CAAC;EAErD,MAAM+C,gBAAgB,GAAGhF,mBAAmB,CAACsE,QAAQ,EAAED,yBAAyB,CAAC;EAEjF,MAAMY,gBAAgB,GAAG;IACvB,GAAGX,QAAQ;IACXtD,aAAa;IACbF,SAAS;IACTU,kBAAkB;IAClBF,WAAW;IACXC,YAAY;IACZ8C,yBAAyB;IACzBzC,oBAAoB;IACpBC,qBAAqB;IACrBR,qBAAqB;IACrBS,gBAAgB;IAChBC,SAAS;IACTrB,YAAY;IACZC,WAAW;IACXgB,kBAAkB;IAClBO,eAAe;IACfC,iBAAiB;IACjB,GAAGyB,cAAc;IACjB,GAAGoB,gBAAgB;IACnB,GAAG5C;EACL,CAAC;EAED,oBACExE,KAAA,CAAAsH,aAAA,CAACzF,gBAAgB,CAAC0F,QAAQ;IAACtC,KAAK,EAAEoC;EAAiB,gBACjDrH,KAAA,CAAAsH,aAAA,CAACrF,eAAe,qBACdjC,KAAA,CAAAsH,aAAA;IAAKE,SAAS,EAAEjH,UAAU,CAAC,yBAAyB,EAAE;MACpD,aAAa,EAAE,CAAC,CAAC2D;IACnB,CAAC;EAAE,GAEAE,QAAQ,iBACTpE,KAAA,CAAAsH,aAAA,CAAAtH,KAAA,CAAAyH,QAAA,qBACEzH,KAAA,CAAAsH,aAAA,CAACzG,eAAe,MAAE,CAAC,eACnBb,KAAA,CAAAsH,aAAA,CAAC9G,KAAK,MAAE,CAAC,eACTR,KAAA,CAAAsH,aAAA,CAACxD,mBAAmB;IAAC4D,OAAO,EAAC;EAAkB,CAAE,CAAC,eAClD1H,KAAA,CAAAsH,aAAA,CAACvG,WAAW,MAAE,CACd,CAEC,CACU,CACQ,CAAC;AAEhC;AAEAyB,SAAS,CAACmF,YAAY,GAAG;EACvB9E,iBAAiB,EAAE,EAAE;EACrBD,mBAAmB,EAAE,CAAC,CAAC;EACvBO,YAAY,EAAE,KAAK;EACnBJ,WAAW,EAAE,KAAK;EAClBD,YAAY,EAAE,KAAK;EACnBQ,UAAU,EAAE,KAAK;EACjBF,aAAa,EAAE,KAAK;EACpBJ,gBAAgB,EAAE,KAAK;EACvBO,YAAY,EAAE,KAAK;EACnBF,SAAS,EAAE,IAAI;EACff,YAAY,EAAE,CAAC,CAAC;EAChBuB,mBAAmB,EAAE,CAAC,CAAC;EACvBC,mBAAmB,EAAEhD,iBAAiB;EACtCsD,QAAQ,EAAE,IAAI;EACdV,WAAW,EAAE,EAAE;EACfC,YAAY,EAAE,EAAE;EAChBC,kBAAkB,EAAE,CAAC;EACrBG,kBAAkB,EAAE6D,SAAS;EAC7BC,wBAAwB,EAAEzG,eAAe;EACzC0G,qBAAqB,EAAE5G,YAAY;EACnC6G,kBAAkB,EAAE5G,SAAS;EAC7B6C,oBAAoB,EAAE,KAAK;EAC3BC,qBAAqB,EAAE;IACrB+D,uBAAuB,EAAE,KAAK;IAC9BC,gBAAgB,EAAEA,CAAA,KAAM,CAAC,CAAC;IAC1BC,uBAAuB,EAAE,MAAM;IAC/BC,eAAe,EAAE;EACnB,CAAC;EACDjE,gBAAgB,EAAE,KAAK;EACvBT,qBAAqB,EAAEmE,SAAS;EAChCpE,YAAY,EAAE,KAAK;EACnBW,SAAS,EAAE,KAAK;EAChBE,qBAAqB,EAAEuD,SAAS;EAChCtD,eAAe,EAAEsD,SAAS;EAC1BrD,iBAAiB,EAAEqD;AACrB,CAAC;AAEDpF,SAAS,CAAC4F,SAAS,GAAG;EACpB;EACA1F,OAAO,EAAEtC,SAAS,CAACiI,OAAO,CAACjI,SAAS,CAACkI,KAAK,CAAC;IACzC;IACAC,MAAM,EAAEnI,SAAS,CAACoI,SAAS,CAAC,CAACpI,SAAS,CAACqI,WAAW,EAAErI,SAAS,CAACsI,IAAI,CAAC,CAAC,CAACC,UAAU;IAC/E;IACAC,QAAQ,EAAEjI,eAAe,CAACP,SAAS,CAACyI,MAAM,EAAE,MAAM,CAAC;IACnD;IACAC,IAAI,EAAE1I,SAAS,CAACoI,SAAS,CAAC,CAACpI,SAAS,CAACqI,WAAW,EAAErI,SAAS,CAACsI,IAAI,CAAC,CAAC;IAClE;IACAK,MAAM,EAAE3I,SAAS,CAACqI,WAAW;IAC7B;IACAjD,MAAM,EAAEpF,SAAS,CAACyI,MAAM;IACxB;IACAG,aAAa,EAAE5I,SAAS,CAACiI,OAAO,CAACjI,SAAS,CAACkI,KAAK,CAAC;MAC/CW,IAAI,EAAE7I,SAAS,CAACyI,MAAM;MACtBK,MAAM,EAAE9I,SAAS,CAAC8I,MAAM;MACxBjE,KAAK,EAAE7E,SAAS,CAACyI;IACnB,CAAC,CAAC;EACJ,CAAC,CAAC,CAAC,CAACF,UAAU;EACd;EACAhG,IAAI,EAAEvC,SAAS,CAACiI,OAAO,CAACjI,SAAS,CAACkI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAACK,UAAU;EACvD;EACA7F,YAAY,EAAE1C,SAAS,CAAC+I,IAAI;EAC5B;EACApF,kBAAkB,EAAE3D,SAAS,CAACkI,KAAK,CAAC;IAClCjD,EAAE,EAAEjF,SAAS,CAACyI,MAAM,CAACF,UAAU;IAC/BJ,MAAM,EAAEnI,SAAS,CAACoI,SAAS,CAAC,CAACpI,SAAS,CAACqI,WAAW,EAAErI,SAAS,CAACsI,IAAI,CAAC,CAAC,CAACC,UAAU;IAC/EG,IAAI,EAAE1I,SAAS,CAACoI,SAAS,CAAC,CAACpI,SAAS,CAACqI,WAAW,EAAErI,SAAS,CAACsI,IAAI,CAAC,CAAC;IAClEU,aAAa,EAAEhJ,SAAS,CAAC+I,IAAI,CAACR;EAChC,CAAC,CAAC;EACF;EACArF,UAAU,EAAElD,SAAS,CAAC+I,IAAI;EAC1B;EACA5F,YAAY,EAAEnD,SAAS,CAAC+I,IAAI;EAC5B;EACApG,WAAW,EAAE3C,SAAS,CAAC+I,IAAI;EAC3B;EACAnG,gBAAgB,EAAE5C,SAAS,CAAC+I,IAAI;EAChC;EACAlG,SAAS,EAAEvC,YAAY,CAACN,SAAS,CAAC8I,MAAM,EAAE,kBAAkB,CAAC;EAC7D;EACA/F,YAAY,EAAE/C,SAAS,CAAC+I,IAAI;EAC5B;EACA/F,aAAa,EAAEhD,SAAS,CAAC+I,IAAI;EAE7B;EACAvG,mBAAmB,EAAExC,SAAS,CAACkI,KAAK,CAAC;IACnC;IACAS,MAAM,EAAE3I,SAAS,CAACqI;EACpB,CAAC,CAAC;EACF;EACA5F,iBAAiB,EAAEzC,SAAS,CAACiI,OAAO,CAACjI,SAAS,CAACkI,KAAK,CAAC;IACnD;IACAjD,EAAE,EAAEjF,SAAS,CAACyI,MAAM,CAACF,UAAU;IAC/B;IACAJ,MAAM,EAAEnI,SAAS,CAACoI,SAAS,CAAC,CAACpI,SAAS,CAACqI,WAAW,EAAErI,SAAS,CAACsI,IAAI,CAAC,CAAC;IACpE;IACAI,IAAI,EAAE1I,SAAS,CAACoI,SAAS,CAAC,CAACpI,SAAS,CAACqI,WAAW,EAAErI,SAAS,CAACsI,IAAI,CAAC;EACnE,CAAC,CAAC,CAAC;EACH;AACF;EACErF,SAAS,EAAEjD,SAAS,CAACiJ,IAAI;EACzB;EACA/G,YAAY,EAAElC,SAAS,CAACkI,KAAK,CAAC;IAC5B3B,QAAQ,EAAEjG,YAAY,CAACN,SAAS,CAAC8I,MAAM,EAAE,aAAa,CAAC;IACvDrC,SAAS,EAAEnG,YAAY,CAACN,SAAS,CAAC8I,MAAM,EAAE,aAAa,CAAC;IACxDjC,OAAO,EAAEvG,YAAY,CAACN,SAAS,CAACiI,OAAO,CAACjI,SAAS,CAACkI,KAAK,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC;IAC5EvB,MAAM,EAAErG,YAAY,CAACN,SAAS,CAACiI,OAAO,CAACjI,SAAS,CAACkI,KAAK,CAAC,CAAC,CAAC,EAAE,cAAc,CAAC;IAC1EpD,cAAc,EAAE9E,SAAS,CAACkI,KAAK,CAAC,CAAC;IACjChD,mBAAmB,EAAElF,SAAS,CAACiI,OAAO,CAACjI,SAAS,CAAC8I,MAAM;EACzD,CAAC,CAAC;EACF;AACF;EACErF,mBAAmB,EAAEzD,SAAS,CAACkI,KAAK,CAAC,CAAC,CAAC,CAAC;EACxC;EACApF,SAAS,EAAE9C,SAAS,CAAC8I,MAAM,CAACP,UAAU;EACtC;AACF;EACEjF,WAAW,EAAEtD,SAAS,CAACoI,SAAS,CAAC,CAC/BpI,SAAS,CAACiI,OAAO,CACfjI,SAAS,CAACoI,SAAS,CAAC,CAClBpI,SAAS,CAACkI,KAAK,CAAC;IACd;IACAgB,UAAU,EAAElJ,SAAS,CAACyI,MAAM,CAACF,UAAU;IACvC;IACAY,WAAW,EAAEnJ,SAAS,CAACiJ,IAAI,CAACV,UAAU;IACtC;IACAnB,SAAS,EAAEpH,SAAS,CAACyI,MAAM;IAC3B;IACAW,OAAO,EAAEpJ,SAAS,CAACyI,MAAM;IACzB;IACAY,QAAQ,EAAErJ,SAAS,CAAC+I;EACtB,CAAC,CAAC,EACF;EACA/I,SAAS,CAACiJ,IAAI,EACd;EACAjJ,SAAS,CAACsJ,OAAO,CAClB,CACH,CAAC,EACD;EACAtJ,SAAS,CAACiJ,IAAI,EACd;EACAjJ,SAAS,CAACsJ,OAAO,CAClB,CAAC;EACF;EACA/F,YAAY,EAAEvD,SAAS,CAACoI,SAAS,CAAC,CAChCpI,SAAS,CAACiI,OAAO,CACfjI,SAAS,CAACoI,SAAS,CAAC,CAClBpI,SAAS,CAACkI,KAAK,CAAC;IACd;IACAgB,UAAU,EAAElJ,SAAS,CAACyI,MAAM,CAACF,UAAU;IACvC;IACAY,WAAW,EAAEnJ,SAAS,CAACiJ,IAAI,CAACV,UAAU;IACtC;IACAnB,SAAS,EAAEpH,SAAS,CAACyI,MAAM;IAC3B;IACAW,OAAO,EAAEpJ,SAAS,CAACyI,MAAM;IACzB;IACAY,QAAQ,EAAErJ,SAAS,CAAC+I;EACtB,CAAC,CAAC,EACF;EACA/I,SAAS,CAACiJ,IAAI,EACd;EACAjJ,SAAS,CAACsJ,OAAO,CAClB,CACH,CAAC,EACD;EACAtJ,SAAS,CAACiJ,IAAI,EACd;EACAjJ,SAAS,CAACsJ,OAAO,CAClB,CAAC;EACF;EACA9F,kBAAkB,EAAExD,SAAS,CAACuJ,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EACjD;EACA7F,mBAAmB,EAAE1D,SAAS,CAACqI,WAAW;EAC1C;EACAV,kBAAkB,EAAE3H,SAAS,CAACqI,WAAW;EACzC;EACAZ,wBAAwB,EAAEzH,SAAS,CAACqI,WAAW;EAC/C;EACAX,qBAAqB,EAAE1H,SAAS,CAACqI,WAAW;EAC5C;EACArE,QAAQ,EAAEhE,SAAS,CAACsI,IAAI;EACxB;EACA1E,oBAAoB,EAAE5D,SAAS,CAAC+I,IAAI;EACpC;EACAlF,qBAAqB,EAAE7D,SAAS,CAACkI,KAAK,CAAC;IACrC;IACAN,uBAAuB,EAAE5H,SAAS,CAAC+I,IAAI;IACvC;IACAlB,gBAAgB,EAAE7H,SAAS,CAACiJ,IAAI;IAChC;IACAnB,uBAAuB,EAAE9H,SAAS,CAACyI,MAAM;IACzC;AACJ;IACIV,eAAe,EAAE/H,SAAS,CAACyI;EAC7B,CAAC,CAAC;EACF;EACA3E,gBAAgB,EAAE9D,SAAS,CAAC+I,IAAI;EAChC;EACA1F,qBAAqB,EAAErD,SAAS,CAACiJ,IAAI;EACrC;EACA7F,YAAY,EAAEpD,SAAS,CAAC+I,IAAI;EAC5B;EACAhF,SAAS,EAAE/D,SAAS,CAAC+I,IAAI;EACzB;EACA9E,qBAAqB,EAAEjE,SAAS,CAACiJ,IAAI;EACrC;EACA/E,eAAe,EAAElE,SAAS,CAAC8I,MAAM;EACjC;EACA3E,iBAAiB,EAAEnE,SAAS,CAACiJ;AAC/B,CAAC;AAED7G,SAAS,CAACxB,WAAW,GAAGA,WAAW;AACnCwB,SAAS,CAACoH,UAAU,GAAG9I,iBAAiB;AACxC0B,SAAS,CAACvB,eAAe,GAAGA,eAAe;AAC3CuB,SAAS,CAACtB,YAAY,GAAGA,YAAY;AACrCsB,SAAS,CAACrB,SAAS,GAAGA,SAAS;AAC/BqB,SAAS,CAACpB,eAAe,GAAGA,eAAe;AAC3CoB,SAAS,CAAClB,WAAW,GAAGA,WAAW;AACnCkB,SAAS,CAAChC,KAAK,GAAGA,KAAK;AACvBgC,SAAS,CAACf,SAAS,GAAGA,SAAS;AAC/Be,SAAS,CAAC3B,eAAe,GAAGA,eAAe;AAC3C2B,SAAS,CAACjB,YAAY,GAAGA,YAAY;AACrCiB,SAAS,CAACzB,WAAW,GAAGA,WAAW;AACnCyB,SAAS,CAAChB,eAAe,GAAGA,eAAe;AAC3CgB,SAAS,CAACd,cAAc,GAAGA,cAAc;AACzCc,SAAS,CAACb,eAAe,GAAGA,eAAe;AAC3Ca,SAAS,CAACZ,sBAAsB,GAAGA,sBAAsB;AACzDY,SAAS,CAACV,YAAY,GAAGA,YAAY;AACrCU,SAAS,CAACnB,yBAAyB,GAAGA,yBAAyB;AAC/DmB,SAAS,CAACT,gBAAgB,GAAGA,gBAAgB;AAC7CS,SAAS,CAACR,sBAAsB,GAAGA,sBAAsB;AACzDQ,SAAS,CAACN,SAAS,GAAGA,SAAS;AAC/BM,SAAS,CAACL,SAAS,GAAGA,SAAS;AAE/B,eAAeK,SAAS","ignoreList":[]}