{"version":3,"file":"BaseSelectionStatus.js","names":["React","useContext","PropTypes","FormattedMessage","Button","DataTableContext","SELECT_ALL_TEST_ID","CLEAR_SELECTION_TEST_ID","BaseSelectionStatus","_ref","className","clearSelectionText","numSelectedRows","numSelectedRowsOnPage","onSelectAll","onClear","selectAllText","allSelectedText","selectedText","itemCount","filteredRows","isPaginated","state","isSelectable","maxSelectedRows","manualFilters","hasAppliedFilters","filters","length","isAllRowsSelected","filteredItems","hasMaxSelectedRows","intlAllSelectedText","createElement","id","defaultMessage","description","values","defaultSelectedText","intlSelectedText","variant","size","onClick","defaultProps","undefined","propTypes","string","oneOfType","element","number","isRequired","func"],"sources":["../../../src/DataTable/selection/BaseSelectionStatus.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport Button from '../../Button';\nimport DataTableContext from '../DataTableContext';\nimport {\n  SELECT_ALL_TEST_ID,\n  CLEAR_SELECTION_TEST_ID,\n} from './data/constants';\n\nfunction BaseSelectionStatus({\n  className,\n  clearSelectionText,\n  numSelectedRows,\n  numSelectedRowsOnPage,\n  onSelectAll,\n  onClear,\n  selectAllText,\n  allSelectedText,\n  selectedText,\n}) {\n  const {\n    itemCount, filteredRows, isPaginated, state,\n    isSelectable, maxSelectedRows, manualFilters,\n  } = useContext(DataTableContext);\n  const hasAppliedFilters = state?.filters?.length > 0;\n  const isAllRowsSelected = numSelectedRows === itemCount;\n  const filteredItems = manualFilters ? itemCount : (filteredRows?.length || itemCount);\n  const hasMaxSelectedRows = isSelectable && maxSelectedRows;\n\n  const intlAllSelectedText = allSelectedText || (\n    <FormattedMessage\n      id=\"pgn.DataTable.BaseSelectionStatus.allSelectedText\"\n      defaultMessage=\"All {numSelectedRows} selected\"\n      description=\"Text for all selected label\"\n      values={{ numSelectedRows }}\n    />\n  );\n\n  const defaultSelectedText = isPaginated || hasAppliedFilters ? (\n    <FormattedMessage\n      id=\"pgn.DataTable.BaseSelectionStatus.selectedTextPaginated\"\n      defaultMessage=\"{numSelectedRows} selected ({numSelectedRowsOnPage} shown below)\"\n      description=\"Text for selected label when table is paginated\"\n      values={{ numSelectedRows, numSelectedRowsOnPage }}\n    />\n  ) : (\n    <FormattedMessage\n      id=\"pgn.DataTable.BaseSelectionStatus.selectedText\"\n      defaultMessage=\"{numSelectedRows} selected\"\n      description=\"Text for selected label\"\n      values={{ numSelectedRows }}\n    />\n  );\n\n  const intlSelectedText = selectedText || defaultSelectedText;\n\n  return (\n    <div className={className} data-testid=\"selection-status-component\">\n      <span data-testid=\"selection-status\">\n        {isAllRowsSelected ? intlAllSelectedText : intlSelectedText}\n      </span>\n      {!isAllRowsSelected && !hasMaxSelectedRows && (\n        <Button\n          data-testid={SELECT_ALL_TEST_ID}\n          variant=\"link\"\n          size=\"inline\"\n          onClick={onSelectAll}\n        >\n          {selectAllText || (\n            <FormattedMessage\n              id=\"pgn.DataTable.BaseSelectionStatus.selectAllText\"\n              defaultMessage=\"Select all {itemCount}\"\n              description=\"A label for select all button.\"\n              values={{ itemCount: filteredItems }}\n            />\n          )}\n        </Button>\n      )}\n      {numSelectedRows > 0 && (\n        <Button\n          data-testid={CLEAR_SELECTION_TEST_ID}\n          variant=\"link\"\n          size=\"inline\"\n          onClick={onClear}\n        >\n          {clearSelectionText || (\n            <FormattedMessage\n              id=\"pgn.DataTable.BaseSelectionStatus.clearSelectionText\"\n              defaultMessage=\"Clear selection\"\n              description=\"A label of clear all selection button.\"\n            />\n          )}\n        </Button>\n      )}\n    </div>\n  );\n}\n\nBaseSelectionStatus.defaultProps = {\n  className: undefined,\n  selectAllText: undefined,\n  allSelectedText: undefined,\n  selectedText: undefined,\n  clearSelectionText: undefined,\n};\n\nBaseSelectionStatus.propTypes = {\n  /** A class name to append to the base element */\n  className: PropTypes.string,\n  /** A text that appears on the `Clear selection` button, defaults to 'Clear selection' */\n  clearSelectionText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  /** Count of selected rows in the table. */\n  numSelectedRows: PropTypes.number.isRequired,\n  /** Count of selected rows on the current page */\n  numSelectedRowsOnPage: PropTypes.number.isRequired,\n  /** A handler for 'Select all' button. */\n  onSelectAll: PropTypes.func.isRequired,\n  /** A handler for 'Clear selection' button. */\n  onClear: PropTypes.func.isRequired,\n  /** A text that appears on the `Select all` button, defaults to 'Select All {itemCount}' */\n  selectAllText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  /** A text that appears when all items have been selected, defaults to 'All {numSelectedRows} selected' */\n  allSelectedText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  /** A text that appears when some items have been selected, defaults to '{numSelectedRows} selected' */\n  selectedText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n};\n\nexport default BaseSelectionStatus;\n"],"mappings":"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","ignoreList":[]}