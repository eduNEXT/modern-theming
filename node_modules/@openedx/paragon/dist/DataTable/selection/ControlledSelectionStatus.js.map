{"version":3,"file":"ControlledSelectionStatus.js","names":["React","useContext","useEffect","PropTypes","DataTableContext","BaseSelectionStatus","clearSelectionAction","setSelectAllRowsAllPagesAction","setSelectedRowsAction","getUnselectedPageRows","getRowIds","ControlledSelectionStatus","_ref","className","clearSelectionText","itemCount","page","controlledTableSelections","selectedRows","isEntireTableSelected","dispatch","selectedRowIds","unselectedPageRows","length","numSelectedRows","numSelectedRowsOnPage","filter","r","isSelected","selectionStatusProps","onSelectAll","onClear","createElement","defaultProps","undefined","propTypes","string","oneOfType","element"],"sources":["../../../src/DataTable/selection/ControlledSelectionStatus.jsx"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport DataTableContext from '../DataTableContext';\nimport BaseSelectionStatus from './BaseSelectionStatus';\n\nimport {\n  clearSelectionAction,\n  setSelectAllRowsAllPagesAction,\n  setSelectedRowsAction,\n} from './data/actions';\nimport {\n  getUnselectedPageRows,\n  getRowIds,\n} from './data/helpers';\n\nfunction ControlledSelectionStatus({ className, clearSelectionText }) {\n  const {\n    itemCount,\n    page,\n    controlledTableSelections: [{ selectedRows, isEntireTableSelected }, dispatch],\n  } = useContext(DataTableContext);\n\n  useEffect(\n    () => {\n      if (isEntireTableSelected) {\n        const selectedRowIds = getRowIds(selectedRows);\n        const unselectedPageRows = getUnselectedPageRows(selectedRowIds, page);\n        if (unselectedPageRows.length) {\n          dispatch(setSelectedRowsAction(unselectedPageRows, itemCount));\n        }\n      }\n    },\n    [isEntireTableSelected, selectedRows, itemCount, page, dispatch],\n  );\n\n  const numSelectedRows = isEntireTableSelected ? itemCount : selectedRows.length;\n  const numSelectedRowsOnPage = (page || []).filter(r => r.isSelected).length;\n\n  const selectionStatusProps = {\n    className,\n    numSelectedRows,\n    numSelectedRowsOnPage,\n    clearSelectionText,\n    onSelectAll: () => dispatch(setSelectAllRowsAllPagesAction()),\n    onClear: () => dispatch(clearSelectionAction()),\n  };\n  return <BaseSelectionStatus {...selectionStatusProps} />;\n}\n\nControlledSelectionStatus.defaultProps = {\n  className: undefined,\n  clearSelectionText: undefined,\n};\n\nControlledSelectionStatus.propTypes = {\n  /** A class name to append to the base element */\n  className: PropTypes.string,\n  /** A text that appears on the `Clear selection` button, defaults to 'Clear Selection' */\n  clearSelectionText: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n};\n\nexport default ControlledSelectionStatus;\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACpD,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,gBAAgB,MAAM,qBAAqB;AAClD,OAAOC,mBAAmB,MAAM,uBAAuB;AAEvD,SACEC,oBAAoB,EACpBC,8BAA8B,EAC9BC,qBAAqB,QAChB,gBAAgB;AACvB,SACEC,qBAAqB,EACrBC,SAAS,QACJ,gBAAgB;AAEvB,SAASC,yBAAyBA,CAAAC,IAAA,EAAoC;EAAA,IAAnC;IAAEC,SAAS;IAAEC;EAAmB,CAAC,GAAAF,IAAA;EAClE,MAAM;IACJG,SAAS;IACTC,IAAI;IACJC,yBAAyB,EAAE,CAAC;MAAEC,YAAY;MAAEC;IAAsB,CAAC,EAAEC,QAAQ;EAC/E,CAAC,GAAGnB,UAAU,CAACG,gBAAgB,CAAC;EAEhCF,SAAS,CACP,MAAM;IACJ,IAAIiB,qBAAqB,EAAE;MACzB,MAAME,cAAc,GAAGX,SAAS,CAACQ,YAAY,CAAC;MAC9C,MAAMI,kBAAkB,GAAGb,qBAAqB,CAACY,cAAc,EAAEL,IAAI,CAAC;MACtE,IAAIM,kBAAkB,CAACC,MAAM,EAAE;QAC7BH,QAAQ,CAACZ,qBAAqB,CAACc,kBAAkB,EAAEP,SAAS,CAAC,CAAC;MAChE;IACF;EACF,CAAC,EACD,CAACI,qBAAqB,EAAED,YAAY,EAAEH,SAAS,EAAEC,IAAI,EAAEI,QAAQ,CACjE,CAAC;EAED,MAAMI,eAAe,GAAGL,qBAAqB,GAAGJ,SAAS,GAAGG,YAAY,CAACK,MAAM;EAC/E,MAAME,qBAAqB,GAAG,CAACT,IAAI,IAAI,EAAE,EAAEU,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,UAAU,CAAC,CAACL,MAAM;EAE3E,MAAMM,oBAAoB,GAAG;IAC3BhB,SAAS;IACTW,eAAe;IACfC,qBAAqB;IACrBX,kBAAkB;IAClBgB,WAAW,EAAEA,CAAA,KAAMV,QAAQ,CAACb,8BAA8B,CAAC,CAAC,CAAC;IAC7DwB,OAAO,EAAEA,CAAA,KAAMX,QAAQ,CAACd,oBAAoB,CAAC,CAAC;EAChD,CAAC;EACD,oBAAON,KAAA,CAAAgC,aAAA,CAAC3B,mBAAmB;IAAA,GAAKwB;EAAoB,CAAG,CAAC;AAC1D;AAEAlB,yBAAyB,CAACsB,YAAY,GAAG;EACvCpB,SAAS,EAAEqB,SAAS;EACpBpB,kBAAkB,EAAEoB;AACtB,CAAC;AAEDvB,yBAAyB,CAACwB,SAAS,GAAG;EACpC;EACAtB,SAAS,EAAEV,SAAS,CAACiC,MAAM;EAC3B;EACAtB,kBAAkB,EAAEX,SAAS,CAACkC,SAAS,CAAC,CAAClC,SAAS,CAACiC,MAAM,EAAEjC,SAAS,CAACmC,OAAO,CAAC;AAC/E,CAAC;AAED,eAAe3B,yBAAyB","ignoreList":[]}