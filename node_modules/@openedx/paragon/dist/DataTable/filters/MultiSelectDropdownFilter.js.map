{"version":3,"file":"MultiSelectDropdownFilter.js","names":["React","useRef","PropTypes","Badge","Stack","DropdownButton","newId","Form","MultiSelectDropdownFilter","_ref","column","setFilter","Header","filterChoices","getHeaderProps","filterValue","ariaLabel","key","checkedBoxes","changeCheckbox","value","includes","newCheckedBoxes","filter","val","push","createElement","variant","id","current","title","CheckboxSet","className","name","map","_ref2","number","Checkbox","checked","onChange","direction","gap","propTypes","shape","func","isRequired","oneOfType","elementType","node","arrayOf","string"],"sources":["../../../src/DataTable/filters/MultiSelectDropdownFilter.jsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Badge from '../../Badge';\nimport Stack from '../../Stack';\nimport { DropdownButton } from '../../Dropdown';\nimport { newId } from '../../utils';\nimport Form from '../../Form';\n\nfunction MultiSelectDropdownFilter({\n  column: {\n    setFilter, Header, filterChoices, getHeaderProps, filterValue,\n  },\n}) {\n  // creates a unique label that does not change on re-render in case there are multiple checkbox filters in the dom\n  const ariaLabel = useRef(newId(`multi-dropdown-filter-label-${getHeaderProps().key}-`));\n  const checkedBoxes = filterValue || [];\n  const changeCheckbox = (value) => {\n    if (checkedBoxes.includes(value)) {\n      const newCheckedBoxes = checkedBoxes.filter((val) => val !== value);\n      return setFilter(newCheckedBoxes);\n    }\n    checkedBoxes.push(value);\n    return setFilter(checkedBoxes);\n  };\n\n  return (\n    <DropdownButton variant=\"outline-primary\" id={ariaLabel.current} title={Header}>\n      <Form.CheckboxSet\n        className=\"pgn__dropdown-filter-checkbox-group\"\n        name={Header}\n        aria-label={Header}\n      >\n        {filterChoices.map(({ name, number, value }) => (\n          <Form.Checkbox\n            key={name}\n            value={name}\n            checked={checkedBoxes.includes(value)}\n            onChange={() => changeCheckbox(value)}\n            aria-label={name}\n          >\n            <Stack direction=\"horizontal\" gap={2}>\n              {name} {number && <Badge variant=\"light\">{number}</Badge>}\n            </Stack>\n          </Form.Checkbox>\n        ))}\n      </Form.CheckboxSet>\n    </DropdownButton>\n  );\n}\n\nMultiSelectDropdownFilter.propTypes = {\n  /**\n   * Specifies a column object.\n   *\n   * `setFilter`: Function to set the filter value.\n   *\n   * `Header`: Column header used for labels and placeholders.\n   *\n   * `filterChoices`: Specifies array of choices.\n   *\n   * `getHeaderProps`: Generates a key unique to the column being filtered.\n   *\n   * `filterValue`: Value for the filter input.\n   */\n  column: PropTypes.shape({\n    /** Function to set the filter value */\n    setFilter: PropTypes.func.isRequired,\n    /** Column header used for labels and placeholders */\n    Header: PropTypes.oneOfType([PropTypes.elementType, PropTypes.node]).isRequired,\n    /** Names and values for the select options */\n    filterChoices: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      number: PropTypes.number,\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    })).isRequired,\n    /** Generates a key unique to the column being filtered */\n    getHeaderProps: PropTypes.func.isRequired,\n    filterValue: PropTypes.arrayOf(PropTypes.string),\n  }).isRequired,\n};\n\nexport default MultiSelectDropdownFilter;\n"],"mappings":"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","ignoreList":[]}