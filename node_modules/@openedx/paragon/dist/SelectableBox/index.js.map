{"version":3,"file":"index.js","names":["React","useRef","useEffect","PropTypes","classNames","SelectableBoxSet","useCheckboxSetContext","useRadioSetContext","getInputType","INPUT_TYPES","SelectableBox","forwardRef","_ref","ref","type","value","checked","children","isIndeterminate","isInvalid","onClick","onFocus","inputHidden","className","showActiveBoxState","props","inputType","radioValue","checkboxValues","isChecked","includes","inputRef","input","createElement","hidden","tabIndex","onChange","current","onclick","role","onKeyPress","click","propTypes","node","isRequired","oneOfType","string","number","bool","oneOf","func","defaultProps","undefined","Set"],"sources":["../../src/SelectableBox/index.jsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport SelectableBoxSet from './SelectableBoxSet';\nimport { useCheckboxSetContext } from '../Form/FormCheckboxSetContext';\nimport { useRadioSetContext } from '../Form/FormRadioSetContext';\nimport { getInputType } from './utils';\n\nconst INPUT_TYPES = [\n  'radio',\n  'checkbox',\n];\n\nconst SelectableBox = React.forwardRef(({\n  type,\n  value,\n  checked,\n  children,\n  isIndeterminate,\n  isInvalid,\n  onClick,\n  onFocus,\n  inputHidden,\n  className,\n  showActiveBoxState,\n  ...props\n}, ref) => {\n  const inputType = getInputType('SelectableBox', type);\n  const { value: radioValue } = useRadioSetContext();\n  const { value: checkboxValues = [] } = useCheckboxSetContext();\n\n  const isChecked = () => {\n    switch (type) {\n      case 'radio':\n        return radioValue === value;\n      case 'checkbox':\n        return checkboxValues.includes(value);\n      default:\n        return radioValue === value;\n    }\n  };\n\n  const inputRef = useRef(null);\n  const input = React.createElement(inputType, {\n    value,\n    checked,\n    hidden: inputHidden,\n    ref: inputRef,\n    tabIndex: -1,\n    onChange: () => {},\n    ...(type === 'checkbox' ? { ...props, isIndeterminate } : { ...props }),\n  }, null);\n\n  useEffect(() => {\n    if (onClick && inputRef.current) {\n      inputRef.current.onclick = () => onClick(inputRef.current);\n    }\n  }, [onClick]);\n\n  return (\n    <div\n      role=\"button\"\n      onKeyPress={() => inputRef.current.click()}\n      onClick={() => inputRef.current.click()}\n      onFocus={onFocus}\n      className={classNames('pgn__selectable_box', className, {\n        'pgn__selectable_box-active': (!inputHidden && !showActiveBoxState) ? false : isChecked() || checked,\n        'pgn__selectable_box-invalid': isInvalid,\n      })}\n      tabIndex={0}\n      ref={ref}\n      {...props}\n    >\n      {input}\n      {children}\n    </div>\n  );\n});\n\nSelectableBox.propTypes = {\n  /** Content of the `SelectableBox`. */\n  children: PropTypes.node.isRequired,\n  /** A value that is passed to the input tag. */\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  /** Controls whether `SelectableBox` is checked. */\n  checked: PropTypes.bool,\n  /** Indicates the input type: checkbox or radio. */\n  type: PropTypes.oneOf(INPUT_TYPES),\n  /** Function that is called when the `SelectableBox` is clicked. */\n  onClick: PropTypes.func,\n  /** Function that is called when the `SelectableBox` is focused. */\n  onFocus: PropTypes.func,\n  /** Controls display of the input (checkbox or radio button) on the `SelectableBox`. */\n  inputHidden: PropTypes.bool,\n  /** Indicates a state for the 'checkbox' `type` when `SelectableBox` is neither checked nor unchecked. */\n  isIndeterminate: PropTypes.bool,\n  /** Adds errors styles to the `SelectableBox`. */\n  isInvalid: PropTypes.bool,\n  /** A class that is appended to the base element. */\n  className: PropTypes.string,\n  /** Controls the visibility of the active state for the `SelectableBox`. */\n  showActiveBoxState: PropTypes.bool,\n};\n\nSelectableBox.defaultProps = {\n  value: undefined,\n  checked: false,\n  type: 'radio',\n  onClick: () => {},\n  onFocus: () => {},\n  inputHidden: true,\n  isIndeterminate: false,\n  isInvalid: false,\n  className: undefined,\n  showActiveBoxState: true,\n};\n\nSelectableBox.Set = SelectableBoxSet;\nexport default SelectableBox;\n"],"mappings":"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","ignoreList":[]}