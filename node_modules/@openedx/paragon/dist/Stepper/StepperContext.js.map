{"version":3,"file":"StepperContext.js","names":["React","useCallback","useEffect","useReducer","useState","PropTypes","StepperContext","createContext","activeKey","stepsReducer","stepsState","action","newStepsState","type","filter","step","eventKey","some","map","index","sort","a","b","StepperContextProvider","_ref","children","steps","dispatch","currentBoundary","setCurrentBoundary","registerStep","removeStep","getIsViewed","activeIndex","findIndex","prevState","createElement","Provider","value","propTypes","node","isRequired"],"sources":["../../src/Stepper/StepperContext.jsx"],"sourcesContent":["import React, {\n  useCallback, useEffect, useReducer, useState,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nexport const StepperContext = React.createContext({\n  activeKey: '',\n});\n\nconst stepsReducer = (stepsState, action) => {\n  let newStepsState = [];\n  switch (action.type) {\n    case 'remove':\n      return stepsState.filter(step => step.eventKey !== action.eventKey);\n    case 'register':\n    default:\n      // If it is existing step\n      if (stepsState.some(step => step.eventKey === action.step.eventKey)) {\n        newStepsState = stepsState.map(step => {\n          if (step.eventKey === action.step.eventKey) {\n            return action.step;\n          }\n          return step;\n        });\n      } else {\n        newStepsState = [...stepsState, action.step];\n      }\n\n      // If using the index prop\n      if (stepsState.some(step => step.index)) {\n        return newStepsState.sort((a, b) => (\n          a.index > b.index ? 1 : -1\n        ));\n      }\n      return newStepsState;\n  }\n};\n\nexport function StepperContextProvider({ children, activeKey }) {\n  const [steps, dispatch] = useReducer(stepsReducer, []);\n  const [currentBoundary, setCurrentBoundary] = useState(0);\n  const registerStep = useCallback((step) => dispatch({ step, type: 'register' }), []);\n  const removeStep = useCallback((eventKey) => dispatch({ eventKey, type: 'remove' }), []);\n\n  const getIsViewed = (index) => index <= currentBoundary;\n\n  useEffect(() => {\n    const activeIndex = steps.findIndex(step => step.eventKey === activeKey);\n    setCurrentBoundary((prevState) => (activeIndex >= prevState ? activeIndex : prevState));\n  }, [activeKey, steps]);\n\n  return (\n    <StepperContext.Provider\n      value={{\n        activeKey,\n        registerStep,\n        steps,\n        removeStep,\n        getIsViewed,\n      }}\n    >\n      {children}\n    </StepperContext.Provider>\n  );\n}\n\nStepperContextProvider.propTypes = {\n  /** Specifies the content of the `ContextProvider`. */\n  children: PropTypes.node.isRequired,\n  /** Specifies the current step of the `Stepper`. */\n  activeKey: PropTypes.node.isRequired,\n};\n\nexport { stepsReducer };\n"],"mappings":"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","ignoreList":[]}